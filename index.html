
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
        <link rel="next" href="gentoo/">
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.1.21">
    
    
      
        <title>Ram's Easy Setup Guide</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="teal">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#arch-linux-complete-installation-on-laptop-v05210402" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Ram&#39;s Easy Setup Guide" class="md-header__button md-logo" aria-label="Ram's Easy Setup Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ram's Easy Setup Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Arch Installation
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Ram&#39;s Easy Setup Guide" class="md-nav__button md-logo" aria-label="Ram's Easy Setup Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Ram's Easy Setup Guide
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Arch Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Arch Installation
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#to-check-whether-the-existing-boot-is-uefi-or-bios" class="md-nav__link">
    To check whether the existing boot is UEFI or BIOS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-for-wireless-devices-on-laptop" class="md-nav__link">
    Check for wireless devices on laptop
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#partition-the-harddiskssd" class="md-nav__link">
    Partition the HardDisk/SSD
  </a>
  
    <nav class="md-nav" aria-label="Partition the HardDisk/SSD">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-3-patitons-sda1-sda2-and-sda3" class="md-nav__link">
    Creating 3 patitons sda1, sda2 and sda3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#after-the-partiton-we-need-to-mount-all-of-them" class="md-nav__link">
    After the partiton we need to mount all of them
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    INSTALLATION
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="gentoo/" class="md-nav__link">
        Gentoo Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="about/" class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Vim/" class="md-nav__link">
        Vim
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#to-check-whether-the-existing-boot-is-uefi-or-bios" class="md-nav__link">
    To check whether the existing boot is UEFI or BIOS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#check-for-wireless-devices-on-laptop" class="md-nav__link">
    Check for wireless devices on laptop
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#partition-the-harddiskssd" class="md-nav__link">
    Partition the HardDisk/SSD
  </a>
  
    <nav class="md-nav" aria-label="Partition the HardDisk/SSD">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-3-patitons-sda1-sda2-and-sda3" class="md-nav__link">
    Creating 3 patitons sda1, sda2 and sda3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#after-the-partiton-we-need-to-mount-all-of-them" class="md-nav__link">
    After the partiton we need to mount all of them
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    INSTALLATION
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="arch-linux-complete-installation-on-laptop-v05210402">Arch Linux Complete Installation on Laptop V0.5(210402)</h1>
<h2 id="to-check-whether-the-existing-boot-is-uefi-or-bios">To check whether the existing boot is UEFI or BIOS</h2>
<pre><code>ls /sys/firmare/efi/efivars
</code></pre>
<p>If it shows without an error it's UEFI
If directory does not exist, then it's BIOS </p>
<h2 id="check-for-wireless-devices-on-laptop">Check for wireless devices on laptop</h2>
<p>This shows the list of active network connections</p>
<pre><code>ip addr
</code></pre>
<p>Turn on wifi module</p>
<pre><code>ip link set wlp2s0 up
</code></pre>
<p>Use CLI interface to connect to wifi</p>
<pre><code>wifi-menu

netctl list

netctl start profile

ping 1.1.1.1
</code></pre>
<p><code>PARTITIONING IS VERY IMPORTANT, kindly BACKUP you drives before further processing</code></p>
<h2 id="partition-the-harddiskssd">Partition the HardDisk/SSD</h2>
<p>Check existing status of the drive</p>
<pre><code>fdisk -l

cfdisk /dev/sda
</code></pre>
<p><code>USE GPT for UEFI</code> or <code>USE BIOS for MBR</code></p>
<p>My lap has 232.9G of storage and 4G of RAM</p>
<h3 id="creating-3-patitons-sda1-sda2-and-sda3">Creating 3 patitons sda1, sda2 and sda3</h3>
<p><code>CURRENT LAYOUT WITH SIZES</code></p>
<ul>
<li>/mnt/boot 512M - /dev/sda1 EFI </li>
<li>swap 8G - /dev/sda2 SWAP</li>
<li>/mnt {rest of storage} -  /dev/sda3 ROOT</li>
</ul>
<p>Using sda1 for boot (/dev/sda1 EFI)</p>
<pre><code>mkfs.fat /dev/sda1
</code></pre>
<p>Using sda2 for Swap (/dev/sda2 SWAP)</p>
<pre><code>mkswap /dev/sda2
swapon /dev/sda2
free -m
</code></pre>
<p>Uing sda3 for the root partition /mnt {rest of storage}</p>
<pre><code>mkfs.ext4 /dev/sda3
</code></pre>
<h3 id="after-the-partiton-we-need-to-mount-all-of-them">After the partiton we need to mount all of them</h3>
<pre><code>mount /dev/sda3 /mnt
cd /mnt
mkdir boot
mount /dev/sda1 /mnt/boot
cd /mnt
</code></pre>
<h2 id="installation">INSTALLATION</h2>
<p>Installs the base packages for the installation</p>
<pre><code>pacstrap /mnt base base-devel linux linux-firmware
</code></pre>
<p>FSTAB is responsible for booting partition from the etc directory</p>
<pre><code>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</code></pre>
<p>We now need to boot into Arch Vertual Env</p>
<pre><code>arch-chroot /mnt
</code></pre>
<p>WPA-Supplicant is required to store Wirless Hash Passwords</p>
<pre><code>pacman -S dialog wpa_supplicant
</code></pre>
<p>Set TimeZone    </p>
<pre><code>ln -sf /usr/share/zoneinfo/Asia/Kolkata /etc/localtime
hwclock --systohc
</code></pre>
<p>Set Timezone(Alternative)</p>
<pre><code>timedatectl set-timezone "Asia/Kolkata"
timedatectl status
</code></pre>
<p>Set Keyboard</p>
<pre><code>nano /etc/locale.gen

`Uncomment`en_US.UTF-8 UTF-8
locale-gen
</code></pre>
<p>Change hostname</p>
<pre><code>nano /etc/hostname
arch
</code></pre>
<p>Edit hosts file(To identify your network and set loopback)</p>
<pre><code>nano /etc/hosts

127.0.0.1   localhost
::1         localhost
127.0.1.1   arch.localdomain arch
</code></pre>
<p>Initialize RamDisk</p>
<pre><code>mkinitcpio -P linux
</code></pre>
<p>Change current password for root</p>
<pre><code>passwd
</code></pre>
<p>To setup EFI Boot <code>Make sure to DISABLE Secure Boot while Enabling EFI on LAPTOP BIOS</code></p>
<pre><code>pacman -S grub efibootmgr vi vim ntfs-3g xorg sddm xorg-xinit xterm

grub-install --target=x86_64-efi --bootloader-id=GRUB --efi-directory=/boot --recheck
grub-mkconfig -o /boot/grub/grub.cfg
</code></pre>
<p>To interact with the OS using Mouse and KeyBoard, we need a Window Manager(LXQT)</p>
<pre><code>pacman -S i3-wm dmenu lxqt
</code></pre>
<p>For KDE use the line below</p>
<pre><code>pacman -S plasma plasma-wayland-session
</code></pre>
<h1 id="reboot-to-complete-the-installation-make-sure-the-grub-shows-up">REBOOT to complete the installation, make sure the grub shows up!</h1>
<h2 id="post-installation">POST INSTALLATION</h2>
<pre><code>sudo systemctl enable NetworkManager
sudo systemctl start NetworkManager
</code></pre>
<p>Add a new user
    useradd -m ram
Add password for new user
    passwd ram<br />
Add new user to the wheel and network groups
    usermod --append --groups wheel ram
    usermod --append --groups network ram
Uncomment the wheel, for root level access for the new user
    visudo
    %wheel ALL=(ALL)ALL</p>
<h2 id="to-enable-wol-make-sure-you-enable-it-on-bios">To enable WOL, make sure you enable it on BIOS</h2>
<p>Kindly check, if your ethernet device supports WOL 
    ethtool interface | grep Wake-on
Make sure to find the proper ethernet MAC address to make this work!
    vim /usr/lib/systemd/network/99-default.link</p>
<pre><code>[Match]
MACAddress=aa:bb:cc:dd:ee:ff

[Link]
NamePolicy=kernel database onboard slot path
MACAddressPolicy=persistent
WakeOnLan=magic
</code></pre>
<h2 id="sambastill-buggy">SAMBA(Still buggy)</h2>
<p>To create a samba server all you need is to create a samba user and point to the directory to share!
Instead of /opt use your own user directory</p>
<pre><code>sudo pacman -S samba
</code></pre>
<p>Create a new samba user &amp; password for the same.
    smbpasswd -a ram
    smbpasswd ram
To list all samba users 
    sudo pdbedit -L -v</p>
<pre><code>sudo vim /etc/samba/smb.conf

[global]
logging = systemd
#workgroup = WORKGROUP
client min protocol = NT1
#server min protocol = SMB2_02
#server max protocol = SMB3
map to guest = bad password
server min protocol = NT1
[share]
path = /opt
valid users = ram
guest ok = yes
browseable = yes
public = yes
writable = yes
</code></pre>
<p>To check for errors, use this command to determine the cause of the issue!
     testparm
Start the below services to start Samba
    sudo systemctl enable smbd 
    sudo systemctl enable nmb
    sudo systemctl start smbd 
    sudo systemctl start nmb</p>
<h2 id="to-use-aur-and-enable-teamviewer-on-systemd">To use AUR and Enable Teamviewer on Systemd</h2>
<pre><code>git clone https://aur.archlinux.org/anydesk-bin.git
cd anydesk-bin

sudo rm /var/lib/pacman/db.lck

makepkg -Acs
pacman -U anydesk-bin.pkg.tar.xz
</code></pre>
<h2 id="systemd">SystemD</h2>
<pre><code>sudo systemctl enable teamviewerd.service
sudo systemctl start teamviewerd.service
</code></pre>
<p>Then start teamviewer</p>
<h2 id="upcoming">Upcoming</h2>
<h3 id="planned-to-create-an-automation-script-for-fast-arch-install-time-duration-often-depends-on-net-and-storage-speed"><code>Planned to create an automation script for fast Arch Install (Time duration often depends on net and storage speed!)</code></h3>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>